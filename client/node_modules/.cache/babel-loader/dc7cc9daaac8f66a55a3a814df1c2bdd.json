{"ast":null,"code":"var _jsxFileName = \"/Users/m.von-buxhoeveden/Desktop/chess_project/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Chessboard } from 'react-chessboard';\nimport { Chess } from 'chess.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [game, setGame] = useState(new Chess()); // perform modify function on game state\n\n  function safeGameMutate(modify) {\n    setGame(g => {\n      const update = { ...g\n      };\n      modify(update);\n      return update;\n    });\n  } // make computer move\n\n\n  function makeRandomMove() {\n    const possibleMoves = game.moves(); // exit if the game is over\n\n    if (game.game_over() || game.in_draw() || possibleMoves.length === 0) return; // select random move\n\n    const randomIndex = Math.floor(Math.random() * possibleMoves.length); // play random move\n\n    safeGameMutate(game => {\n      game.move(possibleMoves[randomIndex]);\n      getapi('/members', {\n        method: 'POST',\n        // or 'PUT'\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(game.moves())\n      });\n    });\n    console.log(data);\n  }\n\n  async function getapi(url) {\n    // Storing response\n    const response = await fetch(url); // Storing data in form of JSON\n\n    var data = await response.json();\n  } // perform action when piece dropped by user\n\n\n  function onDrop(sourceSquare, targetSquare) {\n    // attempt move\n    let move = null;\n    safeGameMutate(game => {\n      move = game.move({\n        from: sourceSquare,\n        to: targetSquare,\n        promotion: 'q'\n      });\n    }); // illegal move made\n\n    if (move === null) return false; // valid move made, make computer move\n\n    setTimeout(makeRandomMove, 200);\n    return true;\n    console.log(game);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Chessboard, {\n    position: game.fen(),\n    onPieceDrop: onDrop\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 10\n  }, this);\n}\n\n_s(App, \"PR4LgXfU0ine+RDS7OWnXVoOg2E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/m.von-buxhoeveden/Desktop/chess_project/client/src/App.js"],"names":["useState","useEffect","Chessboard","Chess","App","game","setGame","safeGameMutate","modify","g","update","makeRandomMove","possibleMoves","moves","game_over","in_draw","length","randomIndex","Math","floor","random","move","getapi","method","headers","body","JSON","stringify","console","log","data","url","response","fetch","json","onDrop","sourceSquare","targetSquare","from","to","promotion","setTimeout","fen"],"mappings":";;;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,KAAT,QAAsB,UAAtB;;;AACA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,IAAIG,KAAJ,EAAD,CAAhC,CADa,CAIf;;AACE,WAASI,cAAT,CAAwBC,MAAxB,EAAgC;AAC9BF,IAAAA,OAAO,CAAEG,CAAD,IAAO;AACb,YAAMC,MAAM,GAAG,EAAE,GAAGD;AAAL,OAAf;AACAD,MAAAA,MAAM,CAACE,MAAD,CAAN;AACA,aAAOA,MAAP;AACD,KAJM,CAAP;AAKD,GAXY,CAYb;;;AACA,WAASC,cAAT,GAA0B;AACxB,UAAMC,aAAa,GAAGP,IAAI,CAACQ,KAAL,EAAtB,CADwB,CAExB;;AACA,QAAIR,IAAI,CAACS,SAAL,MAAoBT,IAAI,CAACU,OAAL,EAApB,IAAsCH,aAAa,CAACI,MAAd,KAAyB,CAAnE,EAAsE,OAH9C,CAIxB;;AACA,UAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,aAAa,CAACI,MAAzC,CAApB,CALwB,CAMxB;;AACAT,IAAAA,cAAc,CAAEF,IAAD,IAAU;AACvBA,MAAAA,IAAI,CAACgB,IAAL,CAAUT,aAAa,CAACK,WAAD,CAAvB;AACAK,MAAAA,MAAM,CAAC,UAAD,EAAa;AACnBC,QAAAA,MAAM,EAAE,MADW;AACH;AAChBC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFU;AAKnBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAetB,IAAI,CAACQ,KAAL,EAAf;AALa,OAAb,CAAN;AAOD,KATa,CAAd;AAUAe,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACD;;AAED,iBAAeR,MAAf,CAAsBS,GAAtB,EAA2B;AAEzB;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B,CAHyB,CAKzB;;AACA,QAAID,IAAI,GAAG,MAAME,QAAQ,CAACE,IAAT,EAAjB;AAEH,GAzCc,CAuDb;;;AACA,WAASC,MAAT,CAAgBC,YAAhB,EAA8BC,YAA9B,EAA4C;AAC1C;AACA,QAAIhB,IAAI,GAAG,IAAX;AACAd,IAAAA,cAAc,CAAEF,IAAD,IAAU;AACvBgB,MAAAA,IAAI,GAAGhB,IAAI,CAACgB,IAAL,CAAU;AACfiB,QAAAA,IAAI,EAAEF,YADS;AAEfG,QAAAA,EAAE,EAAEF,YAFW;AAGfG,QAAAA,SAAS,EAAE;AAHI,OAAV,CAAP;AAKD,KANa,CAAd,CAH0C,CAW1C;;AACA,QAAInB,IAAI,KAAK,IAAb,EAAmB,OAAO,KAAP,CAZuB,CAa1C;;AACAoB,IAAAA,UAAU,CAAC9B,cAAD,EAAiB,GAAjB,CAAV;AACA,WAAO,IAAP;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAYxB,IAAZ;AACD;;AACD,sBAAO,QAAC,UAAD;AAAY,IAAA,QAAQ,EAAEA,IAAI,CAACqC,GAAL,EAAtB;AAAkC,IAAA,WAAW,EAAEP;AAA/C;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;GA3EQ/B,G;;KAAAA,G;AA4ET,eAAeA,GAAf","sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport { Chessboard } from 'react-chessboard';\nimport { Chess } from 'chess.js';\nfunction App() {\n  const [game, setGame] = useState(new Chess());\n\n\n// perform modify function on game state\n  function safeGameMutate(modify) {\n    setGame((g) => {\n      const update = { ...g };\n      modify(update);\n      return update;\n    });\n  }\n  // make computer move\n  function makeRandomMove() {\n    const possibleMoves = game.moves();\n    // exit if the game is over\n    if (game.game_over() || game.in_draw() || possibleMoves.length === 0) return;\n    // select random move\n    const randomIndex = Math.floor(Math.random() * possibleMoves.length);\n    // play random move\n    safeGameMutate((game) => {\n      game.move(possibleMoves[randomIndex]);\n      getapi('/members', {\n      method: 'POST', // or 'PUT'\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(game.moves()),\n    });\n    });\n    console.log(data)\n  }\n\n  async function getapi(url) {\n\n    // Storing response\n    const response = await fetch(url);\n\n    // Storing data in form of JSON\n    var data = await response.json();\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n  // perform action when piece dropped by user\n  function onDrop(sourceSquare, targetSquare) {\n    // attempt move\n    let move = null;\n    safeGameMutate((game) => {\n      move = game.move({\n        from: sourceSquare,\n        to: targetSquare,\n        promotion: 'q'\n      });\n    });\n\n    // illegal move made\n    if (move === null) return false;\n    // valid move made, make computer move\n    setTimeout(makeRandomMove, 200);\n    return true;\n    console.log(game)\n  }\n  return <Chessboard position={game.fen()} onPieceDrop={onDrop} />;\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}